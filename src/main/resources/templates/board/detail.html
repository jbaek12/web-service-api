<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/css/style.css" />
    <title>게시글 상세</title>
</head>

<script>
    function deleteBoard(boardId) {
        const id = boardId;
        fetch(`/list/delete/${id}`, {
            method: 'DELETE'
        })
            .then(response => {
                if (response.ok) {
                    alert("삭제 성공");
                    window.location.href = '/list';
                } else {
                    alert("삭제 실패");
                }
            });
    }
</script>

<body>
    <div class="form-wrapper">
        <div class="container">
            <h1 th:text="${board.title}">게시글 제목</h1>
            <div class="board-meta">
                작성자: <span th:text="${board.author}"></span> |
                작성일: <span th:text="${#temporals.format(board.createdDate, 'yyyy-MM-dd HH:mm:ss')}"></span>
            </div>
            <hr />
            <div class="board-content" th:text="${board.content}">
            </div>
            <br />
            <div class="btn-group">
                <button type="button" class="btn"
                    th:onclick="'location.href=\'/list/showForm?id=' + ${board.id} + '\''">수정하기</button>
                <button type="button" class="btn" th:onclick="deleteBoard([[${board.id}]])">삭제하기</button>
                <button class="btn btn-back" onclick="location.href='/list'">목록으로</button>
            </div>
        </div>
    </div>
</body>

</html>